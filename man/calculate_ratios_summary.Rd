% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/checks_ratios.R
\name{calculate_ratios_summary}
\alias{calculate_ratios_summary}
\title{Calculate Yearly Indicator Ratios Summary with Expected Ratios}
\usage{
calculate_ratios_summary(
  .data,
  survey_coverage = c(anc1 = 0.98, penta1 = 0.97, penta3 = 0.89, opv1 = 0.97, opv3 =
    0.78, pcv1 = 0.97, rota1 = 0.96),
  anc1_penta1_mortality = 1.07,
  ratio_pairs = list(ratioAP = c("anc1", "penta1"), ratioPP = c("penta1", "penta3"),
    ratioOO = c("opv1", "opv3"), ratioPPcv = c("penta1", "pcv1"), ratioPR = c("penta1",
    "rota1")),
  adequate_range = c(1, 1.5)
)
}
\arguments{
\item{.data}{A data frame containing yearly data for specified indicators.
Expected columns include \code{district}, \code{year}, and additional numeric columns
for health indicators, such as \code{anc1} and \code{penta1}.}

\item{survey_coverage}{A named vector of assumed coverage rates for each indicator.
Default is \code{c(anc1 = 0.98, penta1 = 0.97, penta3 = 0.89, opv1 = 0.97, opv3 = 0.78, pcv1 = 0.97, rota1 = 0.96)}.}

\item{anc1_penta1_mortality}{A numeric multiplier applied specifically to the \code{"ratioAP"}
ratio of \code{anc1} to \code{penta1}, to account for assumed mortality between \code{anc1} and \code{penta1}.
Default is \code{1.07}.}

\item{ratio_pairs}{A named list specifying indicator pairs for which ratios
should be calculated. Format: \code{list("ratioName" = c("numerator", "denominator"))}.
Default pairs include:
\itemize{
\item \code{"ratioAP"}: Ratio of \code{anc1} to \code{penta1}, adjusted with \code{anc1_penta1_mortality}.
\item \code{"ratioPP"}: Ratio of \code{penta1} to \code{penta3}.
\item \code{"ratioOO"}: Ratio of \code{opv1} to \code{opv3}.
\item \code{"ratioPPcv"}: Ratio of \code{penta1} to \code{pcv1}.
\item \code{"ratioPR"}: Ratio of \code{penta1} to \code{rota1}.
}}

\item{adequate_range}{A numeric vector of length 2 defining the acceptable
range for adequacy checks. Ratios within this range are marked adequate;
outside this range, inadequate. Default is \code{c(1, 1.5)}.}
}
\value{
A \code{cd_ratios_summary} object, a data frame containing:
\itemize{
\item \strong{\code{year}}: Year of each calculated ratio, with an additional row \code{"Expected Ratio"}
to represent expected values for each indicator ratio based on \code{survey_coverage}.
\item \strong{Indicator Ratios}: Columns for each ratio, showing actual yearly values
and an expected value row based on \code{survey_coverage}.
\item \strong{Additional Columns}: Health indicator values for each year.
}
}
\description{
This function computes yearly summaries for specified indicator ratios,
assessing trends across years and providing both actual and expected ratios
for each indicator. It evaluates specified indicator pairs to calculate
ratios and compares actual values with expected ratios, based on predefined
survey coverage values. The summary facilitates monitoring consistency of
key health indicators over time.
}
\details{
The function provides insights into indicator relationships over time and evaluates
deviations from expected values. It enables data quality checks and trend analysis
by summarizing ratios yearly and including expected values for comparison. The \code{"Expected Ratio"}
row incorporates predefined survey coverage and serves as a reference for assessing
the adequacy of each indicator's ratio.
}
\examples{
\dontrun{
  # Basic usage with default parameters
  calculate_ratios_summary(cd_data)

  # Custom survey coverage and mortality adjustments for "ratioAP"
  calculate_ratios_summary(cd_data,
                           survey_coverage = c(anc1 = 0.95, penta1 = 0.92, penta3 = 0.85),
                           anc1_penta1_mortality = 1.05)
}

}
