% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/1a_checks_outlier.R
\name{list_outlier_units}
\alias{list_outlier_units}
\title{Identify Outlier Units by Month for a Given Indicator}
\usage{
list_outlier_units(
  .data,
  indicator,
  admin_level = c("adminlevel_1", "district")
)
}
\arguments{
\item{.data}{A \code{cd_data} object containing monthly health indicator data.}

\item{indicator}{Character. The name of a single indicator to evaluate for outliers.
Must be one of:
\code{"opv1"}, \code{"opv2"}, \code{"opv3"}, \code{"penta1"}, \code{"penta2"}, \code{"penta3"}, \code{"measles1"},
\code{"measles2"}, \code{"pcv1"}, \code{"pcv2"}, \code{"pcv3"}, \code{"bcg"}, \code{"rota1"}, \code{"rota2"}, \code{"ipv1"}, \code{"ipv2"}.}

\item{admin_level}{Character. The administrative level to summarize by.
Options are \code{"adminlevel_1"} or \code{"district"}.}
}
\value{
A \code{cd_outlier_list} object (a tibble) with the following columns:
\itemize{
\item Grouping columns (\code{adminlevel_1}, \code{district}, \code{year}, \code{month})
\item The selected indicator
\item Median (\verb{<indicator>_med})
\item MAD (\verb{<indicator>_mad})
\item Outlier flag (\verb{<indicator>_outlier5std})
}
}
\description{
This function summarizes a single immunization indicator by month and administrative level,
then applies a Hampel filter (5 × MAD) to flag extreme outliers. It returns a tidy object
suitable for plotting or time-series review at subnational levels.
}
\details{
\itemize{
\item Computes monthly means of the specified indicator by administrative unit and time.
\item Calculates median and MAD (Median Absolute Deviation) for outlier detection.
\item Flags outliers when values exceed ±5×MAD from the median.
}
}
\examples{
\dontrun{
  # Detect monthly outliers in Penta1 at district level
  outliers <- list_outlier_units(cd_data, indicator = "penta1", admin_level = "district")

  # Plot flagged points in a specific region
  plot(outliers, region = "Nakuru")
}

}
