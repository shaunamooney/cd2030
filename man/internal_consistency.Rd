% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/1a_checks_internal_consistency.R
\name{plot_comparison}
\alias{plot_comparison}
\alias{plot_comparison_anc1_penta1}
\alias{plot_comparison_penta1_penta3}
\alias{plot_comparison_opv1_opv3}
\title{Internal Consistency Plot Functions for Indicator Comparisons}
\usage{
plot_comparison(
  .data,
  x_var,
  y_var,
  title = NULL,
  x_label = NULL,
  y_label = NULL,
  call = caller_env(),
  ...
)

plot_comparison_anc1_penta1(.data)

plot_comparison_penta1_penta3(.data)

plot_comparison_opv1_opv3(.data)
}
\arguments{
\item{.data}{A data frame of class \code{cd_data} that includes the relevant indicators for comparison.}

\item{x_var}{Character. The name of the indicator variable to plot on the x-axis.}

\item{y_var}{Character. The name of the indicator variable to plot on the y-axis.}

\item{title}{Character. The title for the plot. Defaults to a title based on \code{x_var} and \code{y_var}.}

\item{x_label}{Character. Label for the x-axis. Defaults to \code{x_var}.}

\item{y_label}{Character. Label for the y-axis. Defaults to \code{y_var}.}

\item{call}{The calling environment, used for error handling. Default is \code{caller_env()}.}

\item{...}{Additional parameters for further customization, such as point size, line type, or color.}
}
\value{
A \code{ggplot2} object, comprising:
\itemize{
\item A scatter plot comparing two specified indicators over multiple years.
\item A linear regression line for each year, indicating the trend between the indicators.
\item Optional display of R-squared values per facet, summarizing the correlation strength.
\item Faceting by year to facilitate a detailed comparison of trends across years.
}

Users can render this \code{ggplot2} object directly, save it, or further modify it using the \code{+} operator.
}
\description{
These functions generate scatter plots that compare two health indicators across years, assessing internal consistency
through visualization of linear regression fits and R-squared values by year. Each function is designed to compare a specific
pair of indicators, with options for customizing plot titles, axis labels, and the inclusion of trend information.

\code{plot_comparison_penta1_anc1} compares Penta1 and ANC1 indicators across.

\code{plot_comparison_penta1_penta3} compares Penta1 and Penta23 indicators.

\code{plot_comparison_opv1_opv3} compares OPV1 and OPV3 indicators.
}
\details{
\itemize{
\item The scatter plot displays the relationship between the two specified indicators over multiple years,
with each year presented in a separate facet.
\item A linear regression line is added to each year's plot to help visualize the trend.
\item R-squared values, calculated per year, are optionally displayed on each facet, indicating the strength
of the linear relationship between the indicators for that year.
\item A diagonal reference line is also provided for visual comparison to a 1:1 relationship, where applicable.
}

This function is commonly used for consistency checks between indicators such as:
\itemize{
\item ANC1 vs PENTA1
\item PENTA1 vs PENTA3
\item OPV1 vs OPV3
}
}
\examples{
\dontrun{
  # Plot a comparison between ANC1 and PENTA1 indicators
  plot_comparison(cd_data, x_var = 'anc1', y_var = 'penta1')

  # Dedicated function for comparing ANC1 and PENTA1 over time
  plot_comparison_penta1_anc1(cd_data)
}

}
