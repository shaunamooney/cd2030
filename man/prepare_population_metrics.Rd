% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/2_denominators_prepare_population_metrics.R
\name{prepare_population_metrics}
\alias{prepare_population_metrics}
\title{Compute Population Metrics for DHIS-2 and UN Data}
\usage{
prepare_population_metrics(
  .data,
  admin_level = c("national", "adminlevel_1", "district"),
  un_estimates = NULL
)
}
\arguments{
\item{.data}{A \code{cd_data} tibble containing processed DHIS-2 health facility
data with population indicators. This dataset must include columns for metrics
like \code{total_pop}, \code{live_births}, and \code{pop_rate}.}

\item{admin_level}{Character. Specifies the administrative level for aggregation.
Available options are: \code{'national'}, \code{'adminlevel_1'}, and \code{'district'}. Default
is \code{'national'}.}

\item{un_estimates}{Optional. A tibble containing UN population estimates with
columns for \code{un_population}, \code{un_births}, \code{un_popgrowth}, and related metrics.
This parameter is only required for national-level calculations.}
}
\value{
A tibble of class \code{cd_population_metrics} containing demographic metrics
for the specified administrative level and years. Metrics include:
\itemize{
\item \strong{For all levels}: DHIS-2 metrics such as \code{totpop_dhis2} (total population)
and \code{totlivebirths_dhis2} (total live births).
\item \strong{For national level}: Both DHIS-2 and UN metrics for comparison.
}
}
\description{
\code{prepare_population_metrics} calculates demographic metrics such as total
population, live births, growth rates, and related indicators using DHIS-2
population data. For national-level data, it optionally integrates UN estimates
to provide comparative metrics. The function supports aggregation at different
administrative levels, including national, adminlevel_1, and district levels.
}
\examples{
\dontrun{
  # National-level demographic metrics
  population_data <- prepare_population_metrics(
    .data = dhis2_data,
    admin_level = 'national',
    un_estimates = un_data
  )

  # District-level demographic metrics
  population_data <- prepare_population_metrics(
    .data = dhis2_data,
    admin_level = 'district'
  )
}

}
