<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate Yearly Indicator Ratios Summary with Expected Ratios — calculate_ratios_summary • cd2030</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Yearly Indicator Ratios Summary with Expected Ratios — calculate_ratios_summary"><meta name="description" content="This function computes yearly summaries for specified indicator ratios,
assessing trends across years and providing both actual and expected ratios
for each indicator. It evaluates specified indicator pairs to calculate
ratios and compares actual values with expected ratios, based on predefined
survey coverage values. The summary facilitates monitoring consistency of
key health indicators over time."><meta property="og:description" content="This function computes yearly summaries for specified indicator ratios,
assessing trends across years and providing both actual and expected ratios
for each indicator. It evaluates specified indicator pairs to calculate
ratios and compares actual values with expected ratios, based on predefined
survey coverage values. The summary facilitates monitoring consistency of
key health indicators over time."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cd2030</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/damurka/cd2030/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate Yearly Indicator Ratios Summary with Expected Ratios</h1>
      <small class="dont-index">Source: <a href="https://github.com/damurka/cd2030/blob/main/R/checks_ratios.R" class="external-link"><code>R/checks_ratios.R</code></a></small>
      <div class="d-none name"><code>calculate_ratios_summary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function computes yearly summaries for specified indicator ratios,
assessing trends across years and providing both actual and expected ratios
for each indicator. It evaluates specified indicator pairs to calculate
ratios and compares actual values with expected ratios, based on predefined
survey coverage values. The summary facilitates monitoring consistency of
key health indicators over time.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calculate_ratios_summary</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  survey_coverage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>anc1 <span class="op">=</span> <span class="fl">0.98</span>, penta1 <span class="op">=</span> <span class="fl">0.97</span>, penta3 <span class="op">=</span> <span class="fl">0.89</span>, opv1 <span class="op">=</span> <span class="fl">0.97</span>, opv3 <span class="op">=</span></span>
<span>    <span class="fl">0.78</span>, pcv1 <span class="op">=</span> <span class="fl">0.97</span>, rota1 <span class="op">=</span> <span class="fl">0.96</span><span class="op">)</span>,</span>
<span>  anc1_penta1_mortality <span class="op">=</span> <span class="fl">1.07</span>,</span>
<span>  ratio_pairs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ratioAP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"anc1"</span>, <span class="st">"penta1"</span><span class="op">)</span>, ratioPP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"penta1"</span>, <span class="st">"penta3"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  adequate_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>A data frame containing yearly data for specified indicators.
Expected columns include <code>district</code>, <code>year</code>, and additional numeric columns
for health indicators, such as <code>anc1</code> and <code>penta1</code>.</p></dd>


<dt id="arg-survey-coverage">survey_coverage<a class="anchor" aria-label="anchor" href="#arg-survey-coverage"></a></dt>
<dd><p>A named vector of assumed coverage rates for each indicator.
Default is <code>c(anc1 = 0.98, penta1 = 0.97, penta3 = 0.89, opv1 = 0.97, opv3 = 0.78, pcv1 = 0.97, rota1 = 0.96)</code>.</p></dd>


<dt id="arg-anc-penta-mortality">anc1_penta1_mortality<a class="anchor" aria-label="anchor" href="#arg-anc-penta-mortality"></a></dt>
<dd><p>A numeric multiplier applied specifically to the <code>"ratioAP"</code>
ratio of <code>anc1</code> to <code>penta1</code>, to account for assumed mortality between <code>anc1</code> and <code>penta1</code>.
Default is <code>1.07</code>.</p></dd>


<dt id="arg-ratio-pairs">ratio_pairs<a class="anchor" aria-label="anchor" href="#arg-ratio-pairs"></a></dt>
<dd><p>A named list specifying indicator pairs for which ratios
should be calculated. Format: <code>list("ratioName" = c("numerator", "denominator"))</code>.
Default pairs include:</p><ul><li><p><code>"ratioAP"</code>: Ratio of <code>anc1</code> to <code>penta1</code>, adjusted with <code>anc1_penta1_mortality</code>.</p></li>
<li><p><code>"ratioPP"</code>: Ratio of <code>penta1</code> to <code>penta3</code>.</p></li>
<li><p><code>"ratioOO"</code>: Ratio of <code>opv1</code> to <code>opv3</code>.</p></li>
<li><p><code>"ratioPPcv"</code>: Ratio of <code>penta1</code> to <code>pcv1</code>.</p></li>
<li><p><code>"ratioPR"</code>: Ratio of <code>penta1</code> to <code>rota1</code>.</p></li>
</ul></dd>


<dt id="arg-adequate-range">adequate_range<a class="anchor" aria-label="anchor" href="#arg-adequate-range"></a></dt>
<dd><p>A numeric vector of length 2 defining the acceptable
range for adequacy checks. Ratios within this range are marked adequate;
outside this range, inadequate. Default is <code>c(1, 1.5)</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>cd_ratios_summary</code> object, a data frame containing:</p><ul><li><p><strong><code>year</code></strong>: Year of each calculated ratio, with an additional row <code>"Expected Ratio"</code>
to represent expected values for each indicator ratio based on <code>survey_coverage</code>.</p></li>
<li><p><strong>Indicator Ratios</strong>: Columns for each ratio, showing actual yearly values
and an expected value row based on <code>survey_coverage</code>.</p></li>
<li><p><strong>Additional Columns</strong>: Health indicator values for each year.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function provides insights into indicator relationships over time and evaluates
deviations from expected values. It enables data quality checks and trend analysis
by summarizing ratios yearly and including expected values for comparison. The <code>"Expected Ratio"</code>
row incorporates predefined survey coverage and serves as a reference for assessing
the adequacy of each indicator's ratio.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co"># Basic usage with default parameters</span></span></span>
<span class="r-in"><span>  <span class="fu">calculate_ratios_summary</span><span class="op">(</span><span class="va">cd_data</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Custom survey coverage and mortality adjustments for "ratioAP"</span></span></span>
<span class="r-in"><span>  <span class="fu">calculate_ratios_summary</span><span class="op">(</span><span class="va">cd_data</span>,</span></span>
<span class="r-in"><span>                           survey_coverage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>anc1 <span class="op">=</span> <span class="fl">0.95</span>, penta1 <span class="op">=</span> <span class="fl">0.92</span>, penta3 <span class="op">=</span> <span class="fl">0.85</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           anc1_penta1_mortality <span class="op">=</span> <span class="fl">1.05</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Kariuki, Martin Mutua, Peter Kaberia, Godfrey Adero, Rornald Muhumuza, African Population and Health Research Center (APHRC).</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

